<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta content="width=device-width, initial-scale=1.0" name="viewport">
	<title>Hiking Survey</title>
	<link href="https://fonts.googleapis.com/css?family=Caveat+Brush|Heebo" rel="stylesheet">
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<link href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css" rel="stylesheet">
	<link href="assets/css/survey.css" rel="stylesheet" type="text/html">
	<link href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-alpha.3/css/materialize.min.css" rel="stylesheet"><!-- Compiled and minified JavaScript -->
	<!-- materialize icons -->
	
</head>
<body>
	<header>
		<nav>
			<div class="nav-wrapper cyan darken-4">
				<a class="brand-logo" href="/">Hiking Friend Finder</a> 
				 <a class="button-collapse" data-activates="mobile-demo" href="/"><i class="material-icons">menu</i></a> 
				<ul class="right hide-on-med-and-down">
					<li>
						<a href="/survey">Survey</a>
					</li>
					<li>
						<a href="/api/friends">API Friends List</a>
					</li>
					<li>
						<a href="https://github.com/audrav07/friendfinder">Github Repo</a>
					</li>
				</ul>
				<ul class="side-nav" id="mobile-demo">
					<li>
						<a href="/survey">Survey</a>
					</li>
					<li>
						<a href="/api/friends">API Friends List</a>
					</li>
					<li>
						<a href="https://github.com/audrav07/friendfinder">Github Repo</a>
					</li>
				</ul>
			</div>
		</nav>
	</header>
	<div class="row center-align">
		
		<div class="col s8 offset-m2 z-depth-5 mainpanel">
			<div class="card white darken-4">
				<div class="card-content black-text">
					<span class="card-title">Hiking Friend Finder</span>
					<h2><strong>Survey Questions</strong></h2>
					<div class="divider"></div>

					<div class="row">
						<div class="input-field col s6">
							<i class="material-icons prefix">account_circle</i> <input class="validate" id="nameInput" type="text"> <label class="active" for="nameInput">Name</label>
						</div>
					</div>
					<div class="row">
						<div class="input-field col s6">
							<i class="material-icons prefix">perm_media</i> <input class="validate" id="imageInput" type="text"> <label class="active" for="imageInput">Image Link</label>
						</div><br>
						<br>
						
					</div>
					<div class="divider"></div>
					<!-- Questions -->
					<div class='section'>
						<p>1) It's important that your hike includes waterfalls.</p><input id="water1" name="question1" type="radio" value="1"> <label for="water1">Strongly Disagree</label> <input id="water2" name="question1" type="radio" value="2"> <label for="water2">Disagree</label> <input id="water3" name="question1" type="radio" value="3"> <label for="water3">Neutral</label> <input id="water4" name="question1" type="radio" value="4"> <label for="water4">Agree</label> <input id="water5" name="question1" type="radio" value="5"> <label for="water5">Strongly Agree</label>
					</div>
					<div class='section'>
						<p>2) I prefer 2 mile hikes over 8 miles.</p><input id="miles1" name="question2" type="radio" value="1"> <label for="miles1">Strongly Disagree</label> <input id="miles2" name="question2" type="radio" value="2"> <label for="miles2">Disagree</label> <input id="miles3" name="question2" type="radio" value="3"> <label for="miles3">Neutral</label> <input id="miles4" name="question2" type="radio" value="4"> <label for="miles4">Agree</label> <input id="miles5" name="question2" type="radio" value="5"> <label for="miles5">Strongly Agree</label>
					</div>
					<div class='section'>
						<p>3) The commute time length is more important than the hiking destination.</p><input id="commute1" name="question3" type="radio" value="1"> <label for="commute1">Strongly Disagree</label> <input id="commute2" name="question3" type="radio" value="2"> <label for="commute2">Disagree</label> <input id="commute3" name="question3" type="radio" value="3"> <label for="commute3">Neutral</label> <input id="commute4" name="question3" type="radio" value="4"> <label for="commute4">Agree</label> <input id="commute5" name="question3" type="radio" value="5"><label for="commute5">Strongly Agree</label>
					</div>
					<div class='section'>
						<p>4) I like hiking 14ers.</p><input id="high1" name="question4" type="radio" value="1"> <label for="high1">Strongly Disagree</label> <input id="high2" name="question4" type="radio" value="2"> <label for="high2">Disagree</label> <input id="high3" name="question4" type="radio" value="3"> <label for="high3">Neutral</label> <input id="high4" name="question4" type="radio" value="4"> <label for="high4">Agree</label> <input id="high5" name="question4" type="radio" value="5"> <label for="high5">Strongly Agree</label>
					</div>
					<div class='section'>
						<p>5) I prefer thru hiking.</p><input id="thru1" name="question5" type="radio" value="1"> <label for="thru1">Strongly Disagree</label> <input id="thru2" name="question5" type="radio" value="2"> <label for="thru2">Disagree</label> <input id="thru3" name="question5" type="radio" value="3"> <label for="thru3">Neutral</label> <input id="thru4" name="question5" type="radio" value="4"> <label for="thru4">Agree</label> <input id="thru5" name="question5" type="radio" value="5"> <label for="thru5">Strongly Agree</label>
					</div>
					<div class='section'>
						<p>6) I like hiking in the winter.</p><input id="winter1" name="question6" type="radio" value="1"> <label for="winter1">Strongly Disagree</label> <input id="winter2" name="question6" type="radio" value="2"> <label for="winter2">Disagree</label> <input id="winter3" name="question6" type="radio" value="3"> <label for="winter3">Neutral</label> <input id="winter4" name="question6" type="radio" value="4"> <label for="winter4">Agree</label> <input id="winter5" name="question6" type="radio" value="5"> <label for="winter5">Strongly Agree</label>
					</div>
					<div class='section'>
						<p>7) I'd rather wear tennis shoes than hiking boots.</p><input id="shoes1" name="question7" type="radio" value="1"> <label for="shoes1">Strongly Disagree</label> <input id="shoes2" name="question7" type="radio" value="2"> <label for="shoes2">Disagree</label> <input id="shoes3" name="question7" type="radio" value="3"> <label for="shoes3">Neutral</label> <input id="shoes4" name="question7" type="radio" value="4"> <label for="shoes4">Agree</label> <input id="shoes5" name="question7" type="radio" value="5"> <label for="shoes5">Strongly Agree</label>
					</div>
					<div class='section'>
						<p>8) Dogs must be allowed on the trail.</p><input id="dog1" name="question8" type="radio" value="1"> <label for="dog1">Strongly Disagree</label> <input id="dog2" name="question8" type="radio" value="2"> <label for="dog2">Disagree</label> <input id="dog3" name="question8" type="radio" value="3"><label for="dog3">Neutral</label> <input id="dog4" name="question8" type="radio" value="4"><label for="dog4">Agree</label> <input id="dog5" name="question8" type="radio" value="5"><label for="dog5">Strongly Agree</label>
					</div>
					<div class='section'>
						<p>9) Sunrise hikes are better than sunset.</p><input id="sunrise1" name="question9" type="radio" value="1"><label for="sunrise1">Strongly Disagree</label> <input id="sunrise2" name="question9" type="radio" value="2"> <label for="sunrise2">Disagree</label> <input id="sunrise3" name="question9" type="radio" value="3"><label for="sunrise3">Neutral</label> <input id="sunrise4" name="question9" type="radio" value="4"> <label for="sunrise4">Agree</label> <input id="sunrise5" name="question9" type="radio" value="5"> <label for="sunrise5">Strongly Agree</label>
					</div>
					<div class='section'>
						<p>10) I prefer to bushwhack than urban hike.</p><input id="urban1" name="question10" type="radio" value="1"> <label for="urban1">Strongly Disagree</label> <input id="urban2" name="question10" type="radio" value="2"> <label for="urban2">Disagree</label> <input id="urban3" name="question10" type="radio" value="3"> <label for="urban3">Neutral</label> <input id="urban4" name="question10" type="radio" value="4"> <label for="urban4">Agree</label> <input id="urban5" name="question10" type="radio" value="5"> <label for="urban5">Strongly Agree</label>
					</div>
					<div>
						<button class="btn waves-effect waves-light" id="submit" name="action" type="submit">Match Me! <i class="material-icons right">send</i></button>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- Modal Structure -->
	<div class="modal" id="modal1">
		<div class="modal-content">
		<h4>Meet Your New Hiking Buddy</h4>
		<h5 id="matchName"></h5><img alt="No Image" id="matchPic" src="" width="250px"></div>
		<div class="modal-footer">
			<a class="modal-action modal-close waves-effect waves-green btn-flat" href="/survey">Agree</a>
		</div>
	</div>
	<footer class="page-footer cyan darken-4">
		<div class="container">
			<div class="row">
				<div class="col l6 s12">
					<!-- <div class="col s8 offset-m2"> -->
					<h5 class="white-text">Hiking Friend Finder</h5>
				</div>
				<div class="col l4 offset-l2 s12">
					<h5 class="white-text">Links</h5>
					<ul>
						<li>
							<a class="grey-text text-lighten-3" href="/api/friends">API Friends List</a>
						</li>
						<li>
							<a class="grey-text text-lighten-3" href="https://github.com/audrav07/friendfinder">GitHub Repo</a>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</footer>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-alpha.3/js/materialize.min.js">
	</script> <!-- jQuery -->
	 
	<script src="https://code.jquery.com/jquery-3.1.1.min.js">
	</script> <!-- Compiled and minified JavaScript -->
	 
	<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.8/js/materialize.min.js">
	</script> 
	 
	<script type="text/javascript">
	$(document).ready(function() {
	           $('name').material_select();
	           $('.modal').modal({
	               dismissible: false, // Modal can be dismissed by clicking outside of the modal
	               opacity: .5, // Opacity of modal background
	               inDuration: 300, // Transition in duration
	               outDuration: 200, // Transition out duration
	               startingTop: '4%', // Starting top style attribute
	               endingTop: '10%' // Ending top style attribute
	           });
	       });
	   
	 
	   // // When we click the submit button...
	   $("#submit").on("click",function(event){
	       event.preventDefault();
	       // Checking to see if user input a name & image.
	       if ( $('#nameInput').val() == null || $('#imageInput').val() == null ) {
	           alert("Please fill out all questions!");
	           return false;
	       };
	       // Checking to see if user answered all of the survey questions.
	       for (var i = 1; i <= 10; i++) {
	           if ( $("input:radio[name=question"+i+"]:checked").val() == null ) {
	               alert("Please fill out all questions!");
	               return false;
	           };
	       };
	       // Creating an array to hold the answers.
	       var scoreArray = [];
	       // Looping through the answers and pushing them to the array. 
	       for (var i = 1; i <= 10; i++) {
	           scoreArray.push( $("input:radio[name=question"+i+"]:checked").val() );
	       }
	       // Creating an object that stores all of the input given by the user.
	       var person = {
	           name: $('#nameInput').val(),
	           photo: $('#imageInput').val(),
	           scores: scoreArray
	       };
	       // Storing our current URL in a variable.
	       // var currentURL = window.location.origin;
	       // Making an AJAX post request. The server calculates the match and sends back the info in the data object.


	       
	       $.post('./api/friends', person)
	           
	       .done(function(data){
	           $("#matchName").text(data.name);
	           $("#matchPic").attr("src", data.photo);
	           $('#modal1').modal("open");

	       });
	       // return false;
	   });

	   


	   




	</script>
</body>
</html>